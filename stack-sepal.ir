{:definitions {"global-popup.util/gen-id!" ["defn" "gen-id!" [] ["swap!" "old-id-ref" "inc"] "@old-id-ref"], "global-popup.main/updater" ["defn" "updater" ["store" "op" "op-data" "op-id"] ["case" "op" [":popup/add" ["popup/add-one" "store" "op-data" "op-id"]] [":popup/drop" ["popup/drop-one" "store" "op-data" "op-id"]] [":popup/clear-float" ["popup/clear-float" "store" "op-data" "op-id"]] "store"]], "global-popup.comp.popup-stack/style-box" ["def" "style-box" ["{}" [":background-color" ["hsl" "0" "0" "100"]] [":width" "0"] [":height" "0"] [":transition-timing-function" "|ease-in-out"] [":transition-duration" "|400ms"] [":border-radius" "|2px"]]], "global-popup.main/store-ref" ["defonce" "store-ref" ["atom" "schema/store"]], "global-popup.comp.container/render" ["defn" "render" ["store"] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" ["merge" "ui/global"]]] ["comp-launcher"] ["comp-popup-stack" [":popups" "store"] "inside-popup"] ["render-value" ["last" [":popups" "store"]]]]]], "global-popup.router.popup/inside-modal" ["defn" "inside-modal" ["popup"] ["case" [":name" "popup"] [":demo" ["div" ["{}"] ["comp-launcher"]]] ["comp-text" ["pr-str" "popup"] "nil"]]], "global-popup.updater.popup/add-one" ["defn" "add-one" ["store" "op-data" "op-id"] ["update" "store" ":popups" ["fn" ["popups"] ["let" [["stable-popups" ["clear-floating" "popups"]]] ["conj" "stable-popups" ["->" "schema/popup" ["merge" "op-data"] ["assoc" ":id" "op-id"]]]]]]], "global-popup.main/dispatch!" ["defn" "dispatch!" ["op" "op-data"] ["println" "op" "op-data"] ["let" [["new-store" ["updater" "@store-ref" "op" "op-data" ["gen-id!"]]]] ["reset!" "store-ref" "new-store"]]], "global-popup.updater.popup/clear-floating" ["defn" "clear-floating" ["popups"] ["filterv" ["fn" ["popup"] ["=" [":type" "popup"] ":modal"]] "popups"]], "global-popup.comp.popup-stack/render-modal" ["defn" "render-modal" ["popup" "render-popup"] ["div" ["{}" [":style" ["merge" "style-theme" ["{}" [":background-color" ["hsl" "0" "0" "0" "0.3"]] [":transform" "|scale(1)"] [":width" [".-innerWidth" "js/window"]] [":height" [".-innerHeight" "js/window"]]]]] [":event" ["{}" [":click" "on-backdrop"]]]] ["div" ["{}" [":style" ["merge" "style-box" ["{}" [":width" "480"] [":height" "160"] [":background-color" ["hsl" "0" "0" "100"]] [":padding" "16"] [":opacity" "1"]]]] [":event" ["{}" [":click" ["fn" ["e" "dispatch!"]]]]]] ["render-popup" "popup"]]]], "global-popup.comp.launcher/style-bar" ["def" "style-bar" ["{}" [":padding" "|8px 16px"]]], "global-popup.comp.launcher/on-popover-add" ["defn" "on-popover-add" ["e" "dispatch!"] ["let" [["event" [":original-event" "e"]]] [".stopPropagation" "event"] ["dispatch!" ":popup/add" ["{}" [":type" ":popover"] [":name" ":demo"] [":position" ["{}" [":x" [".-clientX" "event"]] [":y" [".-clientY" "event"]] [":w" "320"] [":h" "160"]]]]]]], "global-popup.main/-main!" ["defn" "-main!" [] ["enable-console-print!"] ["render-app!"] ["add-watch" "store-ref" ":changes" "render-app!"] ["add-watch" "states-ref" ":changes" "render-app!"] [".addEventListener" "js/window" "|click" ["fn" ["event"] ["if" ["not" ["empty?" [":popups" "@store-ref"]]] ["dispatch!" ":popup/clear-float" "nil"]]]] ["println" "|app started!"]], "global-popup.schema/popup" ["def" "popup" ["{}" [":type" ":modal"] [":name" "nil"] [":position" "nil"] [":data" "nil"] [":id" "nil"]]], "global-popup.comp.container/comp-container" ["def" "comp-container" ["create-comp" ":container" "render"]], "global-popup.util/old-id-ref" ["def" "old-id-ref" ["atom" "0"]], "global-popup.updater.popup/drop-one" ["defn" "drop-one" ["store" "op-data" "op-id"] ["update" "store" ":popups" ["fn" ["popups"] ["if" ["empty?" "popups"] "popups" ["let" [["len" ["count" "popups"]]] ["subvec" "popups" "0" ["dec" "len"]]]]]]], "global-popup.comp.launcher/on-modal-add" ["defn" "on-modal-add" ["e" "dispatch!"] ["dispatch!" ":popup/add" ["{}" [":type" ":modal"] [":name" ":demo"]]]], "global-popup.comp.popup-stack/on-backdrop" ["defn" "on-backdrop" ["e" "dispatch!"] ["dispatch!" ":popup/drop" "nil"]], "global-popup.comp.launcher/render" ["defn" "render" [] ["fn" ["state" "mutate!"] ["div" ["{}"] ["div" ["{}" [":style" "style-bar"]] ["div" ["{}" [":style" "ui/button"] [":event" ["{}" [":click" "on-modal-add"]]]] ["comp-text" "|add modal" "nil"]]] ["div" ["{}" [":style" "style-bar"]] ["div" ["{}" [":style" "ui/button"] [":event" ["{}" [":click" "on-popover-add"]]]] ["comp-text" "|add popup" "nil"]]]]]], "global-popup.comp.popup-stack/style-theme" ["def" "style-theme" ["merge" "ui/center" ["{}" [":transition-duration" "|400ms"] [":transition-timing-function" "|ease-in-out"] [":transform" "|scale(0)"] [":position" "|fixed"] [":top" "0"] [":left" "0"] [":width" "0"] [":height" "0"] [":overflow" "|auto"]]]], "global-popup.comp.launcher/comp-launcher" ["def" "comp-launcher" ["create-comp" ":launcher" "render"]], "global-popup.main/states-ref" ["defonce" "states-ref" ["atom" ["{}"]]], "global-popup.updater.popup/clear-float" ["defn" "clear-float" ["store" "op-data" "op-id"] ["update" "store" ":popups" "clear-floating"]], "global-popup.router.popup/inside-popover" ["defn" "inside-popover" ["popup"] ["case" [":name" "popup"] [":demo" ["div" ["{}"] ["comp-launcher"]]] ["comp-text" ["pr-str" "popup"] "nil"]]], "global-popup.comp.popup-stack/render-popover" ["defn" "render-popover" ["popup" "render-popup"] ["let" [["position" [":position" "popup"]]] ["div" ["{}" [":style" ["merge" "style-theme" ["{}" [":left" [":x" "position"]] [":top" [":y" "position"]] [":width" [":w" "position"]] [":height" [":h" "position"]] [":transform" "|scale(1)"] [":box-shadow" ["str" "|0 0 8px " ["hsl" "0" "0" "0" "0.3"]]]]]]] ["div" ["{}" [":style" ["merge" "style-box" ["{}" [":width" [":w" "position"]] [":height" [":h" "position"]]]]]] ["render-popup" "popup"]]]]], "global-popup.main/render-app!" ["defn" "render-app!" [] ["let" [["target" [".querySelector" "js/document" "|#app"]]] ["render!" ["comp-container" "@store-ref"] "target" "dispatch!" "states-ref"]]], "global-popup.main/on-jsload!" ["defn" "on-jsload!" [] ["clear-cache!"] ["render-app!"] ["println" "|code update."]], "global-popup.comp.popup-stack/render" ["defn" "render" ["popups" "inside-popup"] ["fn" ["state" "mutate!"] ["div" ["{}"] ["conj" ["->>" "popups" ["map-indexed" ["fn" ["idx" "popup"] ["[]" "idx" ["case" [":type" "popup"] [":popover" ["render-popover" "popup" "inside-popup"]] [":modal" ["render-modal" "popup" "inside-popup"]] "nil"]]]] ["into" ["[]"]]] ["[]" ["count" "popups"] ["div" ["{}" [":style" ["merge" "style-theme"]]] ["div" ["{}" [":style" ["merge" "style-box"]]]]]]]]]], "global-popup.schema/store" ["def" "store" ["{}" [":popups" ["[]"]]]], "global-popup.router.popup/inside-popup" ["defn" "inside-popup" ["popup"] ["case" [":type" "popup"] [":popover" ["inside-popover" "popup"]] [":modal" ["inside-modal" "popup"]] ["comp-text" ["pr-str" "popup"] "nil"]]], "global-popup.comp.popup-stack/comp-popup-stack" ["def" "comp-popup-stack" ["create-comp" ":popup-stack" "render"]]}, :namespaces {"global-popup.schema" ["ns" "global-popup.schema"], "global-popup.comp.popup-stack" ["ns" "global-popup.comp.popup-stack" [":require" ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "hsl.core" ":refer" ["[]" "hsl"]]]], "global-popup.main" ["ns" "global-popup.main" [":require" ["[]" "respo.core" ":refer" ["[]" "render!" "clear-cache!"]] ["[]" "global-popup.comp.container" ":refer" ["[]" "comp-container"]] ["[]" "cljs.reader" ":refer" ["[]" "read-string"]] ["[]" "global-popup.updater.popup" ":as" "popup"] ["[]" "global-popup.schema" ":as" "schema"] ["[]" "global-popup.util" ":refer" ["[]" "gen-id!"]]]], "global-popup.comp.container" ["ns" "global-popup.comp.container" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]] ["[]" "global-popup.comp.popup-stack" ":refer" ["[]" "comp-popup-stack"]] ["[]" "respo-value.comp.value" ":refer" ["[]" "render-value"]] ["[]" "global-popup.router.popup" ":refer" ["[]" "inside-popup"]] ["[]" "global-popup.comp.launcher" ":refer" ["[]" "comp-launcher"]]]], "global-popup.util" ["ns" "global-popup.util"], "global-popup.updater.popup" ["ns" "global-popup.updater.popup" [":require" ["[]" "global-popup.schema" ":as" "schema"]]], "global-popup.comp.launcher" ["ns" "global-popup.comp.launcher" [":require" ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]]]], "global-popup.router.popup" ["ns" "global-popup.router.popup" [":require" ["[]" "respo.alias" ":refer" ["[]" "div"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]] ["[]" "global-popup.comp.launcher" ":refer" ["[]" "comp-launcher"]]]]}, :procedures {"global-popup.schema" [], "global-popup.style" [], "global-popup.comp.popups-stack" [], "global-popup.comp.popup-stack" [], "global-popup.main" [["set!" [".-onload" "js/window"] "-main!"]], "global-popup.util" [], "global-popup.updater.popup" [], "global-popup.comp.popup" [], "global-popup.comp.popover" [], "global-popup.comp.launcher" [], "global-popup.comp.modal" [], "global-popup.router.popup" []}}