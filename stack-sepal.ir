{:definitions {"global-popup.util/gen-id!" ["defn" "gen-id!" [] ["swap!" "old-id-ref" "inc"] "@old-id-ref"], "global-popup.comp.modal/style-box" ["def" "style-box" ["{}" [":min-width" "480"] [":min-height" "160"] [":background-color" ["hsl" "0" "0" "100"]] [":padding" "16"]]], "global-popup.comp.container/on-modal-add" ["defn" "on-modal-add" ["e" "dispatch!"] ["dispatch!" ":popup/add" ["{}" [":type" ":modal"] [":name" ":demo"]]]], "global-popup.comp.container/on-popover-add" ["defn" "on-popover-add" ["e" "dispatch!"] ["let" [["event" [":original-event" "e"]]] [".stopPropagation" "event"] ["dispatch!" ":popup/add" ["{}" [":type" ":popover"] [":name" ":demo"] [":position" ["{}" [":x" [".-clientX" "event"]] [":y" [".-clientY" "event"]]]]]]]], "global-popup.main/updater" ["defn" "updater" ["store" "op" "op-data" "op-id"] ["case" "op" [":popup/add" ["popup/add-one" "store" "op-data" "op-id"]] [":popup/drop" ["popup/drop-one" "store" "op-data" "op-id"]] [":popup/clear-float" ["popup/clear-float" "store" "op-data" "op-id"]] "store"]], "global-popup.router.popup/render-popover" ["defn" "render-popover" ["popup"] ["case" [":name" "popup"] [":demo" ["div" ["{}"] ["comp-text" "|demo" "nil"]]] ["comp-text" ["pr-str" "popup"] "nil"]]], "global-popup.main/store-ref" ["defonce" "store-ref" ["atom" "schema/store"]], "global-popup.comp.container/render" ["defn" "render" ["store"] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" ["merge" "ui/global"]]] ["div" ["{}" [":style" "style-bar"]] ["div" ["{}" [":style" "ui/button"] [":event" ["{}" [":click" "on-modal-add"]]]] ["comp-text" "|add modal" "nil"]]] ["div" ["{}" [":style" "style-bar"]] ["div" ["{}" [":style" "ui/button"] [":event" ["{}" [":click" "on-popover-add"]]]] ["comp-text" "|add popup" "nil"]]] ["comp-popup-stack" [":popups" "store"] "render-popup"] ["render-value" ["last" [":popups" "store"]]]]]], "global-popup.comp.modal/render" ["defn" "render" ["popup" "render-popup"] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" "style-modal"] [":event" ["{}" [":click" "on-backdrop"]]]] ["div" ["{}" [":style" "style-box"] [":event" ["{}" [":click" ["fn" ["e" "dispatch!"]]]]]] ["render-popup" "popup"]]]]], "global-popup.updater.popup/add-one" ["defn" "add-one" ["store" "op-data" "op-id"] ["update" "store" ":popups" ["fn" ["popups"] ["let" [["stable-popups" ["clear-floating" "popups"]]] ["conj" "stable-popups" ["->" "schema/popup" ["merge" "op-data"] ["assoc" ":id" "op-id"]]]]]]], "global-popup.main/dispatch!" ["defn" "dispatch!" ["op" "op-data"] ["println" "op" "op-data"] ["let" [["new-store" ["updater" "@store-ref" "op" "op-data" ["gen-id!"]]]] ["reset!" "store-ref" "new-store"]]], "global-popup.updater.popup/clear-floating" ["defn" "clear-floating" ["popups"] ["filterv" ["fn" ["popup"] ["=" [":type" "popup"] ":modal"]] "popups"]], "global-popup.comp.popover/comp-popover" ["def" "comp-popover" ["create-comp" ":popup" "render"]], "global-popup.comp.modal/style-modal" ["def" "style-modal" ["merge" "ui/fullscreen" "ui/center" ["{}" [":background-color" ["hsl" "0" "0" "0" "0.3"]]]]], "global-popup.main/-main!" ["defn" "-main!" [] ["enable-console-print!"] ["render-app!"] ["add-watch" "store-ref" ":changes" "render-app!"] ["add-watch" "states-ref" ":changes" "render-app!"] [".addEventListener" "js/window" "|click" ["fn" ["event"] ["dispatch!" ":popup/clear-float" "nil"]]] ["println" "|app started!"]], "global-popup.comp.modal/comp-modal" ["def" "comp-modal" ["create-comp" ":modal" "render"]], "global-popup.router.popup/render-popup" ["defn" "render-popup" ["popup"] ["case" [":type" "popup"] [":popover" ["render-popover" "popup"]] [":modal" ["render-modal" "popup"]] ["comp-text" ["pr-str" "popup"] "nil"]]], "global-popup.schema/popup" ["def" "popup" ["{}" [":type" ":modal"] [":name" "nil"] [":position" "nil"] [":data" "nil"] [":id" "nil"]]], "global-popup.comp.container/comp-container" ["def" "comp-container" ["create-comp" ":container" "render"]], "global-popup.util/old-id-ref" ["def" "old-id-ref" ["atom" "0"]], "global-popup.updater.popup/drop-one" ["defn" "drop-one" ["store" "op-data" "op-id"] ["update" "store" ":popups" ["fn" ["popups"] ["if" ["empty?" "popups"] "popups" ["let" [["len" ["count" "popups"]]] ["subvec" "popups" "0" ["dec" "len"]]]]]]], "global-popup.comp.container/style-bar" ["def" "style-bar" ["{}" [":padding" "|8px 16px"]]], "global-popup.comp.popover/render" ["defn" "render" ["popup" "render-popup"] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" ["merge" "style-popover" ["{}" [":left" [":x" [":position" "popup"]]] [":top" [":y" [":position" "popup"]]]]]]] ["render-popup" "popup"]]]], "global-popup.main/states-ref" ["defonce" "states-ref" ["atom" ["{}"]]], "global-popup.comp.popover/style-popover" ["def" "style-popover" ["{}" [":position" "|fixed"] [":min-width" "120"] [":min-height" "40"] [":background-color" ["hsl" "0" "0" "100" "0.9"]] [":box-shadow" ["str" "|1px 1px 8px " ["hsl" "0" "0" "10" "0.4"]]] [":border-radius" "|2px"]]], "global-popup.comp.modal/on-backdrop" ["defn" "on-backdrop" ["e" "dispatch!"] ["dispatch!" ":popup/drop" "nil"]], "global-popup.updater.popup/clear-float" ["defn" "clear-float" ["store" "op-data" "op-id"] ["update" "store" ":popups" "clear-floating"]], "global-popup.main/render-app!" ["defn" "render-app!" [] ["let" [["target" [".querySelector" "js/document" "|#app"]]] ["render!" ["comp-container" "@store-ref"] "target" "dispatch!" "states-ref"]]], "global-popup.main/on-jsload!" ["defn" "on-jsload!" [] ["clear-cache!"] ["render-app!"] ["println" "|code update."]], "global-popup.comp.popup-stack/render" ["defn" "render" ["popups" "render-popup"] ["fn" ["state" "mutate!"] ["div" ["{}"] ["->>" "popups" ["map" ["fn" ["popup"] ["[]" [":id" "popup"] ["case" [":type" "popup"] [":popover" ["comp-popover" "popup" "render-popup"]] [":modal" ["comp-modal" "popup" "render-popup"]] "nil"]]]]]]]], "global-popup.schema/store" ["def" "store" ["{}" [":popups" ["[]"]]]], "global-popup.router.popup/render-modal" ["defn" "render-modal" ["popup"] ["case" [":name" "popup"] [":demo" ["div" ["{}"] ["comp-text" "|demo" "nil"]]] ["comp-text" ["pr-str" "popup"] "nil"]]], "global-popup.comp.popup-stack/comp-popup-stack" ["def" "comp-popup-stack" ["create-comp" ":popup-stack" "render"]]}, :namespaces {"global-popup.schema" ["ns" "global-popup.schema"], "global-popup.comp.popup-stack" ["ns" "global-popup.comp.popup-stack" [":require" ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "global-popup.comp.popover" ":refer" ["[]" "comp-popover"]] ["[]" "global-popup.comp.modal" ":refer" ["[]" "comp-modal"]]]], "global-popup.main" ["ns" "global-popup.main" [":require" ["[]" "respo.core" ":refer" ["[]" "render!" "clear-cache!"]] ["[]" "global-popup.comp.container" ":refer" ["[]" "comp-container"]] ["[]" "cljs.reader" ":refer" ["[]" "read-string"]] ["[]" "global-popup.updater.popup" ":as" "popup"] ["[]" "global-popup.schema" ":as" "schema"] ["[]" "global-popup.util" ":refer" ["[]" "gen-id!"]]]], "global-popup.comp.container" ["ns" "global-popup.comp.container" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]] ["[]" "global-popup.comp.popup-stack" ":refer" ["[]" "comp-popup-stack"]] ["[]" "respo-value.comp.value" ":refer" ["[]" "render-value"]] ["[]" "global-popup.router.popup" ":refer" ["[]" "render-popup"]]]], "global-popup.util" ["ns" "global-popup.util"], "global-popup.updater.popup" ["ns" "global-popup.updater.popup" [":require" ["[]" "global-popup.schema" ":as" "schema"]]], "global-popup.comp.popover" ["ns" "global-popup.comp.popover" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div"]] ["[]" "respo-ui.style" ":as" "ui"]]], "global-popup.comp.modal" ["ns" "global-popup.comp.modal" [":require" ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "hsl.core" ":refer" ["[]" "hsl"]]]], "global-popup.router.popup" ["ns" "global-popup.router.popup" [":require" ["[]" "respo.alias" ":refer" ["[]" "div"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]]]]}, :procedures {"global-popup.schema" [], "global-popup.comp.popups-stack" [], "global-popup.comp.popup-stack" [], "global-popup.main" [["set!" [".-onload" "js/window"] "-main!"]], "global-popup.util" [], "global-popup.updater.popup" [], "global-popup.comp.popup" [], "global-popup.comp.popover" [], "global-popup.comp.modal" [], "global-popup.router.popup" []}}